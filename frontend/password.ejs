<!doctype html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/password.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>    
    <div class="card">
        <div class="logo">
            <img class="logo-img" src="resources\logo\logo.png">     
            <span class="logo-text"><span style="color: rgb(0, 0, 0);">دکتر </span>رزرو </span>     
        </div> 
        <p class="form-subtitle">برای تکمیل ثبت نام، رمز خود را انتخاب کنید</p>
        <form method="post" action="/setPassword">
            <div class="form-row">
                <div class="form-group">
                    <label for="password">رمز عبور</label>
                    <div class="password-wrap">
                        <input type="password" id="password" name="password" placeholder="حداقل 8 کاراکتر"> 
                        <button type="button" class="toggle-pass" data-target="password">👁</button> 
                    </div> 
                </div>
                <div class="form-group">
                    <label for="confirm">تکرار رمز عبور</label>
                    <div class="password-wrap">
                        <input type="password" id="confirm" placeholder="تکرار رمز">
                        <button type="button" class="toggle-pass" data-target="confirm">👁</button>
                    </div>
                    <div class="error" id="errorBox"></div>           
                </div>
            </div>
            <div class="form-row full">
                <button type="submit" class="btn">تکمیل ثبت نام</button>
            </div>
        </form>
    </div>

<script>
document.querySelectorAll('.toggle-pass').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const input=document.getElementById(btn.dataset.target);
    input.type=input.type==='password'?'text':'password';
  });
});

const pass=document.getElementById('password');
const confirmInput=document.getElementById('confirm');
const errorBox=document.getElementById('errorBox');

confirmInput.addEventListener('input',()=>{
  if(confirmInput.value!==pass.value){
    errorBox.textContent="رمز عبور مطابقت ندارد";
  }else{
    errorBox.textContent="";
  }
});
</script>

</body>
</html>
